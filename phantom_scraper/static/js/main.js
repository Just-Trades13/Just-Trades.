/*! For license information please see main.d6a4e8f7.js.LICENSE.txt */
(()=>{var e={7163:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});a(2960);var n=a(8286),r=a(9246),o=a(8429),i=a(5010),s=a(9950),l=a(7369),c=a(9388),p=a(4414);const d=(0,n.D)("loginBackground");const u=function(e){let{isOpen:t,toggle:a,openSignupModal:n,allowOverlayClose:u=!0}=e;const{setAuth:b}=(0,i.A)(),h=(0,o.Zp)(),[f,m]=(0,s.useState)(""),[g,z]=(0,s.useState)(""),[M,O]=(0,s.useState)(!1),[y,v]=(0,s.useState)(null),[A,k]=(0,s.useState)(!1),[w,q]=(0,s.useState)(!1),[x,W]=(0,s.useState)(!1),[j,R]=(0,s.useState)(!1),N=(0,s.useRef)(null);return(0,s.useEffect)((()=>{t&&N.current&&N.current.focus();(async()=>{const e=await(0,l.Q)();v(e)})();const e=new Image;return e.src=d,e.onload=()=>W(!0),document.body.classList.toggle("login-page",t),()=>document.body.classList.remove("login-page")}),[t]),t?(0,p.jsx)("div",{className:"login-modal-overlay",onClick:e=>{u&&e.target.classList.contains("login-modal-overlay")&&a()}},(0,p.jsx)("div",{className:"login-modal-content",style:{backgroundImage:x?`url(${d})`:void 0}},(0,p.jsxs)("div",{className:"login-form-container"},(0,p.jsx)("h2",{children:"Login"}),(0,p.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),k(!0);try{const e=await(0,c.v)(f,g);b(e),h("/user/dashboard")}catch(e){q(!0),console.error("Login failed:",e)}finally{k(!1)}}},(0,p.jsxs)("div",{className:"login-form-group"},(0,p.jsx)("label",{htmlFor:"email",children:"Email"}),(0,p.jsx)("input",{type:"email",id:"email",ref:N,value:f,onChange:e=>m(e.target.value),required:!0})),(0,p.jsxs)("div",{className:"login-form-group"},(0,p.jsx)("label",{htmlFor:"password",children:"Password"}),(0,p.jsx)("input",{type:"password",id:"password",value:g,onChange:e=>z(e.target.value),required:!0})),(0,p.jsx)("button",{type:"submit",className:"login-button",disabled:A,children:A?"Logging in...":"Login"}),w&&(0,p.jsx)("p",{className:"error-message",children:"Invalid email or password."})),y&&(0,p.jsxs)("div",{className:"form-footer"},(0,p.jsxs)("p",{children:["Forgot your password? ",(0,p.jsx)("button",{onClick:()=>{R(!j)},className:"link-button",children:"Reset it"})]}),j&&(0,p.jsx)("p",{children:"Please contact support on Discord."})),(0,p.jsx)("p",{children:["Don't have an account? ",(0,p.jsx)("button",{onClick:()=>{a(),n()},className:"link-button",children:"Sign up"})]}))))):null}},9388:(e,t,a)=>{"use strict";a.d(t,{v:()=>r});var n=a(7369);const r=async(e,t)=>{try{const a=await n.A.post("/auth/login",{email:e,password:t});return a.data}catch(e){throw console.error("Login API call failed:",e),e}}},8286:(e,t,a)=>{"use strict";a.d(t,{D:()=>o,y:()=>i});var n=a(7369),r=a(5010);const o=e=>(0,r.A)().branding?`/client_specifics/img/${(0,r.A)().branding[e]}`:"";async function i(){const e=await n.A.get("/client_specifics");return e.data}},7369:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,Q:()=>i});var n=a(8859),r=a.n(n);const o=r().create({baseURL:"/api"}),i=async()=>{try{const e=(await o.get("/check-recaptcha")).data;return e.useRecaptcha?e.recaptchaSiteKey:null}catch(e){return console.error("Error checking reCAPTCHA status:",e),null}}},5010:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(9950),r=a(8859),o=a.n(r),i=a(4414);const s=()=>(0,n.useContext)(l);const l=a(9950).createContext(null);t.Z=e=>{let{children:t}=e;const[a,r]=(0,n.useState)(null),[s,c]=(0,n.useState)(null),[p,d]=(0,n.useState)(!0);(0,n.useEffect)((()=>{const e=localStorage.getItem("authToken");e&&(r(e),o().defaults.headers.common.Authorization=`Bearer ${e}`),async function(){try{const e=await o().get("/api/client_specifics");c(e.data)}catch(e){console.error("Failed to fetch client specifics:",e)}finally{d(!1)}}()}),[]);const u=e=>{r(e),e?(localStorage.setItem("authToken",e),o().defaults.headers.common.Authorization=`Bearer ${e}`):(localStorage.removeItem("authToken"),delete o().defaults.headers.common.Authorization)},b={auth:a,setAuth:u,clientSpecifics:s,loading:p};return p?null:(0,i.jsx)(l.Provider,{value:b,children:t})}},2960:()=>{(e=>{const t={};function a(n){if(t[n])return t[n].exports;const r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,a.c=t,a.p="",a(0)})([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.filter((function(e){return!t.includes(e)}))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(5);t.default=function(e){var t=[];return n(e,t),t.join("")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.indexOf(t);return-1===a?void 0:a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.length;if(0===a)return[];for(var n=0;n<a;n++)t.push(e[n]);return t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),r=a(1);t.default=function(e,t,a){if(void 0===a&&(a=!0),"[object Array]"===Object.prototype.toString.call(e))n(e,t);else if("object"==typeof e)for(var o in e)a||r(t,o)?a&&!r(t,o)&&t.push(o):t.push(o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.trim()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.length;if(0===a)return-1;for(var n=0;n<a;n++)if(t(e[n],n))return n;return-1}},function(e,t){"use strict";function a(e,t){var n=t.className,r=t.options,o=void 0===r?{}:r,i=t.rules,s=void 0===i?[]:i,l=t.children,c=Object.keys(e).reduce((function(t,a){return-1===["className","options","rules","children"].indexOf(a)&&(t[a]=e[a]),t}),{});return l({className:n,options:o,rules:s,attrs:c})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,a){"use strict";var n=a(2),r=a(13),o=a(0),i=a(3),s=a(7),l=a(6),c=a(1);t.a=function(e,t,a){var p,d,u=l(n(r(e))),b=u.split(" "),h=[];return c(b,t)?-1===i(a,t)?void 0:a[i(a,t)]:(p=s(a,(function(e){return c(b,e)})))>-1?a[p]:(d=o(a,b),1===d.length?d[0]:void 0)}}])},{}],8429:(e,t,a)=>{try{t.Zp=a(9246).useNavigate}catch(e){}},9246:(e,t,a)=>{try{e.exports=a(2960)}catch(e){}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,a),o.exports}a.m=e,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"static/js/"+e+".0c568551.chunk.js",a.miniCssF=e=>"static/css/"+e+".35339995.chunk.css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={};a.l=(t,n,r,o)=>{if(e[t])e[t].push(n);else{var i,s;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var p=l[c];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")=="autotrade-vendor:"+r){i=p;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack","autotrade-vendor:"+r),i.src=t),e[t]=[n];var d=(a,n)=>{i.onerror=i.onload=null,clearTimeout(u);var r=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),a)return a(n)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",(()=>{var e={2272:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((a,n)=>r=e[t]=[a,n]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0};var n=self.webpackChunkautotrade_vendor=self.webpackChunkautotrade_vendor||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a(9950),a(5987),a(584),a(8859),a(4414),a(7163)})()
